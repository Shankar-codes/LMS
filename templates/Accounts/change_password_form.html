{% load static %}
{% load crispy_forms_tags %}

<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <link rel="icon" type="image/png" href="{% static 'images/Logo/favicon.ico' %}">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <title>LMS.in</title>

    <!-- Bootstrap core CSS -->
    <link href="{% static 'css/bootstrap.min.css' %}" rel="stylesheet"/>

    <!-- FontAwesome for icons -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">

    <!-- Custom Form Styles -->
    <link href="{% static 'css/forms_styles.css' %}" rel="stylesheet"/>

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500&display=swap" rel="stylesheet">

    <meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport'/>
    <meta name="viewport" content="width=device-width"/>
</head>

<style type="text/css">
    html, body {
        height: 100%;
        margin: 0;
        font-family: 'Poppins', sans-serif;
        overflow: hidden;
        background-color: #f0f4f8;
        animation: fadeIn 1s ease-out;
    }

    /* Animation for the entire page */
    @keyframes fadeIn {
        0% { opacity: 0; }
        100% { opacity: 1; }
    }

    .wrapper-form-index-page {
        padding: 3%;
        background-color: #ffffff;
        border-radius: 12px;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        opacity: 0;
        animation: fadeInForm 1s forwards;
    }

    /* Fade in the form container */
    @keyframes fadeInForm {
        0% { opacity: 0; transform: translateY(-30px); }
        100% { opacity: 1; transform: translateY(0); }
    }

    .parent-wrap {
        display: table;
        width: 100%;
        height: 100%;
        background: #f1f3f5;
    }

    .sub-parent-wrap {
        display: table-cell;
        vertical-align: middle;
        padding: 15px;
    }

    .btn-custom {
        padding: 12px 20px;
        background-color: #6f42c1;
        color: white;
        border: none;
        border-radius: 8px;
        transition: transform 0.3s ease, background-color 0.3s ease;
        width: 100%;
        font-size: 16px;
        animation: scaleIn 0.5s ease-out;
    }

    /* Button scale animation */
    @keyframes scaleIn {
        0% { transform: scale(0.9); opacity: 0; }
        100% { transform: scale(1); opacity: 1; }
    }

    .btn-custom:hover {
        background-color: #5a33b3;
        transform: scale(1.05);
    }

    .form-container {
        max-width: 480px;
        margin: 0 auto;
    }

    .alert-warning, .alert-success {
        font-size: 16px;
        padding: 12px;
        margin-bottom: 20px;
        border-radius: 8px;
        text-align: center;
        animation: slideIn 0.5s ease-out;
    }

    /* Slide-in animation for success and warning messages */
    @keyframes slideIn {
        0% { transform: translateX(-30px); opacity: 0; }
        100% { transform: translateX(0); opacity: 1; }
    }

    .alert-warning {
        background-color: #ffcc00;
        color: #721c24;
    }

    .alert-success {
        background-color: #28a745;
        color: white;
    }

    h3 {
        font-weight: 500;
        font-size: 30px;
        margin-bottom: 30px;
        color: #333;
        animation: fadeInText 1s ease-out;
    }

    /* Fade-in text animation for title */
    @keyframes fadeInText {
        0% { opacity: 0; transform: translateY(-20px); }
        100% { opacity: 1; transform: translateY(0); }
    }

    .forgot-pass-wrp {
        margin-top: 20px;
    }

    .forgot-pass-wrp a {
        color: #6f42c1;
        text-decoration: none;
        font-weight: 500;
    }

    .forgot-pass-wrp a:hover {
        text-decoration: underline;
    }

    input:focus, select:focus, textarea:focus {
        border-color: #6f42c1;
        box-shadow: 0 0 5px rgba(111, 66, 193, 0.5);
        transition: all 0.3s ease;
    }

    /* Input fields focus animation */
    input, select, textarea {
        transition: border 0.3s ease, box-shadow 0.3s ease;
    }

    /* Input field placeholder animation */
    input::placeholder, select::placeholder, textarea::placeholder {
        opacity: 0.7;
        transition: opacity 0.3s ease;
    }

    input:focus::placeholder, select:focus::placeholder, textarea:focus::placeholder {
        opacity: 0.5;
    }

    /* Add a smooth scroll for anchor links */
    html {
        scroll-behavior: smooth;
    }

    /* Responsive Design */
    @media (max-width: 576px) {
        .wrapper-form-index-page {
            padding: 3%;
        }

        .btn-custom {
            padding: 14px;
        }

        h3 {
            font-size: 24px;
        }
    }
</style>

<body>
<section class="parent-wrap">
    <section class="sub-parent-wrap">
        <section class="container">
            <section class="row">
                <section class="col col-sm-12">
                    {% if messages %}
                    {% for message in messages %}
                    <div {% if message.tags %} class="{{ message.tags }}" {% endif %}>
                        {{ message }}
                        <button type="button" class="close" id="override-start" data-dismiss="alert" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    {% endfor %}
                    {% endif %}
                </section>
            </section>

            <section class="row">
                <div class="form-container">
                    <div class="wrapper-form-index-page shadow">
                        <div class="row text-center">
                            <h3>Password Change Form</h3>
                        </div>
                        <form action="" method="POST" id="login_form" novalidate>
                            {% csrf_token %}
                            {{ form | crispy }}
                            <button type="submit" class="btn btn-custom">Change Password</button>
                        </form>

                        <section class="container" style="margin-top: 1rem;">
                            <div class="row">
                                <p>Go to <a href="{% url 'dashboard:dashboard' %}" class="text-primary">
                                    <button type="button" class="btn btn-link p-0">Dashboard</button>
                                </a></p>
                            </div>
                        </section>
                    </div>
                </div>
            </section>
        </section>
    </section>
</section>

<!-- JS Files -->
<script src="{% static 'js/jquery.3.2.1.min.js' %}" type="text/javascript"></script>
<script src="{% static 'js/bootstrap.min.js' %}" type="text/javascript"></script>

<script type="text/javascript">
    $(document).ready(function(){
        // Custom JS functionality for validation feedback if needed
    });
</script>
</body>
</html>
